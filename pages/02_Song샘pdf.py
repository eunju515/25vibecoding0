import streamlit as st

mbti_types = [
    "ISTJ", "ISFJ", "INFJ", "INTJ",
    "ISTP", "ISFP", "INFP", "INTP",
    "ESTP", "ESFP", "ENFP", "ENTP",
    "ESTJ", "ESFJ", "ENFJ", "ENTJ"
]

weather_list = ["맑음☀️", "흐림🌥️", "비☔", "눈❄️", "더움🥵", "추움🥶"]
feeling_list = ["기분 최고!", "평범함", "약간 우울", "피곤함", "설렘", "짜증"]

mbti_weather_feeling_meme = {
    # ENFP
    ("ENFP", "맑음☀️", "기분 최고!"): "🚀 운동장 한 바퀴 돌고 급식실까지 달려가는 에너지 폭발 DAY!",
    ("ENFP", "비☔", "약간 우울"): "🌧️ 창밖 보며 '내 인생 영화는 언제 시작될까?' 몽상 모드 ON!",
    ("ENFP", "더움🥵", "설렘"): "🥵 땀나도 신남! 오늘은 학교 축제만큼 두근두근!",
    ("ENFP", "흐림🌥️", "피곤함"): "😴 하품 백 번 해도 친구랑 수다 떨면 바로 충전 완료!",
    ("ENFP", "눈❄️", "설렘"): "❄️ 눈 오면 무조건 셀카! 인생샷 건지는 날!",
    # INFP
    ("INFP", "비☔", "약간 우울"): "🌱 빗소리 들으며 노트에 시 한 편... 감성 폭발 중!",
    ("INFP", "맑음☀️", "설렘"): "☀️ 햇살 아래 벤치에서 소설 읽으면 세상이 내 것!",
    ("INFP", "흐림🌥️", "기분 최고!"): "🌥️ 구름 낀 날엔 상상력도 두 배! 오늘은 내 머릿속이 판타지 월드!",
    ("INFP", "눈❄️", "평범함"): "❄️ 눈 내리는 창밖 보며 조용히 몽상 타임~",
    # ISTJ
    ("ISTJ", "맑음☀️", "기분 최고!"): "🧐 오늘도 계획표대로 완벽하게! 뿌듯함 MAX!",
    ("ISTJ", "흐림🌥️", "피곤함"): "😑 흐린 날에도 숙제는 반드시 끝낸다. 이게 바로 ISTJ 클래스.",
    ("ISTJ", "비☔", "짜증"): "☔ 우산도 미리 챙겼지! 하지만 신발 젖으면 살짝 짜증...",
    ("ISTJ", "더움🥵", "평범함"): "🥵 더워도 할 일은 한다! 땀은 흘려도 미루진 않는다!",
    # ESFP
    ("ESFP", "맑음☀️", "설렘"): "🎉 오늘 급식 메뉴까지 완벽! 점심시간 댄스파티 예약~",
    ("ESFP", "비☔", "기분 최고!"): "☔ 비 와도 신남! 우산 쓰고 친구랑 노래 부르며 귀가!",
    ("ESFP", "더움🥵", "피곤함"): "🥵 더워도 친구랑 있으면 에너지 풀충전!",
    ("ESFP", "눈❄️", "설렘"): "❄️ 눈 오면 운동장에 첫발자국 남기러 돌진!",
    # INTJ
    ("INTJ", "눈❄️", "평범함"): "🧠 눈 오는 날엔 집에서 미래계획 세우기 딱이지.",
    ("INTJ", "흐림🌥️", "피곤함"): "🌥️ 흐린 날엔 조용히 내 계획을 다듬는 시간.",
    ("INTJ", "맑음☀️", "설렘"): "☀️ 햇살 아래서도 머릿속은 이미 다음 프로젝트 생각 중.",
    ("INTJ", "비☔", "짜증"): "☔ 비 오면 이동 동선 최적화 시뮬레이션 돌리는 중.",
    # ISFP
    ("ISFP", "더움🥵", "짜증"): "🥵 더워서 집중 안 되지만, 노트 구석에 낙서로 힐링!",
    ("ISFP", "맑음☀️", "설렘"): "☀️ 햇살 아래서 이어폰 끼고 산책하면 세상 행복~",
    ("ISFP", "비☔", "기분 최고!"): "☔ 빗소리 들으며 그림 그리기, 감성 충전 완료!",
    # ENTP
    ("ENTP", "비☔", "설렘"): "🦜 비 오는 날엔 교실 토론이 더 불붙는다! 오늘도 말문이 터진다!",
    ("ENTP", "맑음☀️", "기분 최고!"): "☀️ 햇살 받으며 친구랑 논쟁하면 꿀잼!",
    ("ENTP", "흐림🌥️", "피곤함"): "🌥️ 피곤해도 질문 하나 던지면 바로 토론 스타트!",
    # ESTJ
    ("ESTJ", "맑음☀️", "기분 최고!"): "📋 오늘도 반장 모드 ON! 모두를 이끄는 리더십 폭발!",
    ("ESTJ", "비☔", "피곤함"): "☔ 비 와도 조별과제는 완벽하게 마무리!",
    # ESFJ
    ("ESFJ", "맑음☀️", "설렘"): "🤗 오늘은 친구들 모아서 단체 사진 찍는 날!",
    ("ESFJ", "흐림🌥️", "약간 우울"): "🌥️ 친구가 힘들면 바로 달려가서 위로해주는 ESFJ!",
    # INTP
    ("INTP", "맑음☀️", "설렘"): "💡 햇살 아래서도 머릿속엔 새로운 궁금증이 샘솟는다!",
    ("INTP", "비☔", "피곤함"): "☔ 비 오는 날엔 수업 듣다 갑자기 '왜?' 열 번 생각 중.",
    # ISTP
    ("ISTP", "더움🥵", "기분 최고!"): "🛠️ 더워도 실습실에서 뚝딱뚝딱! 손재주 만렙!",
    ("ISTP", "맑음☀️", "설렘"): "☀️ 자전거 타고 등교하면 기분 최고!",
    # ENFJ
    ("ENFJ", "맑음☀️", "기분 최고!"): "🦸 오늘은 반 분위기 메이커! 모두를 웃게 만드는 날!",
    ("ENFJ", "흐림🌥️", "피곤함"): "🌥️ 피곤해도 친구 고민 상담은 언제나 OK!",
    # ENTJ
    ("ENTJ", "맑음☀️", "설렘"): "👑 오늘은 목표를 향해 전진! 학생회장 포스 뿜뿜!",
    ("ENTJ", "비☔", "짜증"): "☔ 비 와도 내 계획은 흔들리지 않는다. 추진력 갑!",
    # ISFJ
    ("ISFJ", "맑음☀️", "설렘"): "🧸 오늘도 친구 도시락 챙기고, 반 분위기 따뜻하게!",
    ("ISFJ", "비☔", "약간 우울"): "☔ 비 오는 날엔 조용히 친구 걱정해주는 마음씨.",
}

st.title("🎯 오늘의 고등학생 MBTI 밈")
st.write("오늘의 내 MBTI, 날씨, 그리고 기분을 골라보세요!")

col1, col2, col3 = st.columns(3)
with col1:
    selected_mbti = st.selectbox("MBTI", mbti_types, index=0)
with col2:
    selected_weather = st.selectbox("오늘의 날씨", weather_list, index=0)
with col3:
    selected_feeling = st.selectbox("오늘의 기분", feeling_list, index=0)

st.markdown("---")
st.markdown(f"### {selected_mbti} / {selected_weather} / {selected_feeling}")

# 조합에 맞는 밈 찾기
meme = mbti_weather_feeling_meme.get(
    (selected_mbti, selected_weather, selected_feeling),
    f"오늘은 {selected_mbti}의 일상! {selected_weather}에 '{selected_feeling}'이라니, 나만의 특별한 하루가 될 것 같은 예감! 😎"
)

st.markdown("## 오늘의 밈")
st.info(meme)
